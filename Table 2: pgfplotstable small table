\documentclass{article}

\usepackage{booktabs} % For \toprule, \midrule and \bottomrule
\usepackage{siunitx} % Formats the units and values
\usepackage{pgfplotstable} % Generates table from .csv

% Setup siunitx:
\sisetup{
  round-mode          = places, % Rounds numbers
  round-precision     = 2, % to 2 places
}

\begin{document}

    \begin{center}
    
        \begin{table}[h!]
            \caption{Autogenerated table from .csv file.}
            \label{table1}
            \pgfplotstabletypeset[
              col sep=comma, % the seperator in our .csv file
              % Define the columns 
              columns = {Course,Nation,Name,Surname,Avg},
              columns/Course/.style={
        		column name=Course,
        		column type={l},string type}, 
              columns/Nation/.style={
        		column name=Country, 
        		column type={l},string type}, 
              columns/Name/.style={
        		column name=Name, 
        		column type={l},string type}, 
              columns/Surname/.style={
        		column name=Last name, 
        		column type={l},string type},
              columns/Avg/.style={
        		column name=Average, 
        		column type={l},string type},
        	  % Format the table
        	  every last row/.style={after row=\bottomrule}, % Adding one line at the end
        	  every head row/.style={ after row=\midrule, % Adding one line after the header
        	    before row = \\\toprule}, % Adding one line before the header
            ]{csv/student_class.csv} % filename/path to file
        
        \end{table}
        
    \end{center}
    
\end{document}
